<!DOCTYPE html>
<html>
  <head>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>
  </head>
  
<body>
  
  <div class="mw-parser-output"><p>Defense is calculated as:
</p>
<dl><dd>\( {\text{DEF}}={\text{DEF}}_{\text{Character}}\times (1+\%{\text{ DEF Bonus}})+{\text{DEF Flat Bonus}}\)</dd></dl>
<p>For both characters and enemies, defense reduces incoming damage based on this formula:<sup id="cite_ref-1" class="reference"><a href="#cite_note-1">&#91;1&#93;</a></sup>
</p>
<dl><dd>\( {\text{DEF DMG Reduction}}={\frac {\text{DEF}}{{\text{DEF}}+5\times {\text{Level}}_{\text{Attacker}}+500}}\)</dd></dl>
<p>The incoming damage will then be multiplied by
</p>
<dl><dd>\({\text{DEF Multiplier}}=1-{\text{DEF DMG Reduction}}\)</dd></dl>
<h2><span class="mw-headline" id="Enemy_Defense">Enemy Defense</span></h2>
<figure class="thumb tright " style="width: 180px"> 	
  <a href="Damage_vs_defense_graph.png">File:Damage vs defense graph.png</a> 	 	
  <figcaption class="thumbcaption"> 		 		 		 			
    <p class="caption">Defense Multiplier (%) vs Attacker's level for a <font color="blue">Lv. 10</font> (blue) and <font color="red">Lv. 90</font> (red) defender.<br />In both cases damage is halved (50%) relative to attack power when attacker and defender levels are equal [any DEF reduction ignored]</p> 		 	</figcaption> </figure>
<p>Characters have defense attributes based on their base stats, levels, weapons, artifacts, and any buffs (e.g. <span class="new" title="Food (page does not exist)" data-uncrawlable-url="L3dpa2kvRm9vZD9hY3Rpb249ZWRpdCZyZWRsaW5rPTE=">Food</span>).
</p><p>Enemy defense is given as:
</p>
<dl><dd>\( {\text{DEF}}_{\text{Enemy}}=5\times {\text{Level}}_{\text{Enemy}}+500 \)</dd></dl>
<p>Defense reduces incoming damage, but its effectiveness is dependent on the attacker's level:<sup id="cite_ref-2" class="reference"><a href="#cite_note-2">&#91;2&#93;</a></sup>
</p>
<dl><dd>\( {\text{DEF Multiplier}}={\frac {{\text{Level}}_{\text{Character}}+100}{{\text{Level}}_{\text{Character}}+{\text{Level}}_{\text{Enemy}}+200}}\)</dd></dl>
<ul><li>In general this means that damage received is  half (50%) of the attack power (also <b>Incoming Damage</b> used in the equations) at equal foe levels.</li>
<li>The change in damage due to differences in level is relatively small, less than a 10% relative difference for a level difference of 20 (and far less at high levels).</li></ul>
<p>For enemies with debuffed defense:
</p>
<dl><dd>\( {\text{DEF Multiplier}}_{\text{(Debuffed)}}={\frac {{\text{Level}}_{\text{Character}}+100}{\left[1-\%{\text{ DEF Reduction}}\right]({\text{Level}}_{\text{Enemy}}+100)+{\text{Level}}_{\text{Character}}+100}}\)</dd></dl>
<h3><span class="mw-headline" id="Intermediate_Equations">Intermediate Equations</span></h3>
<p>The DEF Multiplier formula from above:
</p><p>Given the expression for damage reduction as:
</p><p>\( {\text{DEF DMG Reduction}}={\frac {{\text{DEF}}_{\text{Enemy}}}{{\text{DEF}}_{\text{Enemy}}+5\times {\text{Level}}_{\text{Character}}+500}}\)
</p><p>Plug in enemy defense to produce the damage reduction for enemies:
</p><p>$$\begin{aligned}
    {\text{DEF DMG Reduction}}&amp;={\frac {\left[5\times {\text{Level}}_{\text{Enemy}}+500\right]}{\left[5\times {\text{Level}}_{\text{Enemy}}+500\right]+5\times {\text{Level}}_{\text{Character}}+500}}\\
    &amp;={\frac {{\text{Level}}_{\text{Enemy}}+100}{{\text{Level}}_{\text{Enemy}}+100+{\text{Level}}_{\text{Character}}+100}}\\
    &amp;={\frac {{\text{Level}}_{\text{Enemy}}+100}{{\text{Level}}_{\text{Enemy}}+{\text{Level}}_{\text{Character}}+200}}
    \end{aligned}$$
    <br />
Subtract the damage reduction from 1 to get a defense multiplier for incoming damage.
</p><p>$$\begin{aligned}
    {\text{DEF Multiplier}}&amp;=1-{\text{DEF DMG Reduction}}
    \\&amp;=1-\left[{\frac {{\text{Level}}_{\text{Enemy}}+100}{{\text{Level}}_{\text{Enemy}}+{\text{Level}}_{\text{Character}}+200}}\right]
    \\&amp;={\frac {{\text{Level}}_{\text{Character}}+100}{{\text{Level}}_{\text{Enemy}}+{\text{Level}}_{\text{Character}}+200}}
    \end{aligned}$$
</p>
<figure class="thumb tright " style="width: 180px"> 	
  <a href="Damage_vs_defense_debuff_graph.png">File:Damage vs defense debuff graph.png</a> 	 	
  <figcaption class="thumbcaption"> 		 		 		 			
    <p class="caption">Damage received vs. Defense reduction (at equal foe and character levels).
      <br />(At 100% defense reduction 100% of potential damage is received)</p> 		 	
  </figcaption> 
    </figure>
<p>To consider debuffs that decrease an enemy's defense, multiply the enemy defense accordingly.
</p>
<p>$$\begin{aligned}
  {\text{DEF}}_{\text{Enemy (Debuffed)}}&amp;=(1-\%{\text{ DEF Reduction}})\times {\text{DEF}}_{\text{Enemy}}\\
  {\text{DEF Multiplier}}_{\text{Enemy (Debuffed)}}&amp;={\frac {{\text{Level}}_{\text{Character}}+100}{\left[1-\%{\text{ DEF Reduction}}\right]({\text{Level}}_{\text{Enemy}}+100)+{\text{Level}}_{\text{Character}}+100}}}
  \end{aligned}}$$
    </p><div class="mw-references-wrap"><ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="#cite_ref-1">↑</a></span> <span class="reference-text"><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="https://ngabbs.com/read.php?tid=23708327">NGA Forum Post: [数据讨论] 防御力(等级)乘区对伤害影响公式出炉&#8212;&#8212;实际上等级压制与防御力是一回事！(更新完毕)</a></span>
</li>
<li id="cite_note-2"><span class="mw-cite-backlink"><a href="#cite_ref-2">↑</a></span> <span class="reference-text"><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://ngabbs.com/read.php?tid=23708327">https://ngabbs.com/read.php?tid=23708327</a></span>
</li>
</ol></div>
    
    </body>
</html>
