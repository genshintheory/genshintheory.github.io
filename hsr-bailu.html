<!DOCTYPE html>
<html>
  <head>
    <!--<link rel="import" href="header.html">-->
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script> 
    $(function(){
      $("#includedContent").load("header.html"); 
    });
    </script> 
    
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>

<link rel="stylesheet" href="css/table.css">
<link rel="icon" type="image/x-icon" href="img/Site-favicon.ico"/>
<!-- consider different favicon for hsr -->

<title>Bailu</title>

  </head>
  
<body>
  <div id="includedContent"></div>

  <h2>Genshin equivalent</h2>
  <p>Having a healer that can revive characters at c0 would be nice.
    Barbara and Qiqi are constellation locked for this resurrection skill.
  </p><p>
    Other than that, the unique thing about Bailu's kit is her E healing.
    It bounces between characters.
    It heals the selected character and then 2 random characters (can be the same character).
    After each bounce, healing is reduced 15% (attenuation).
    This is not 'smart' healing, but more like random healing.
  </p><p>
    Having a 'smart' healer in Genshin could also be helpful.
    They heal the whole party, but those with less hp get healed more.
    For example, say the healer E will heal a total amount of X.
    The X gets distributed between the 4 party members in proportion to those that need the healing the most.
  </p>
  <p>Algorithm / Formula (max cap):
    Let X be the total healing amount and \(h_i \) be the hp of the party members.
    Take the character with the highest current hp (not max hp). Call this highest current hp \(M = \max h_i \).
    The idea is to bring the rest of the party members as close to M hp as possible.
    And once everyone is at M, then heal all equally with whatever healing is remaining.
  </p><p>
    Let there be n total party members (in HSR we usually have n=4).
    Let \( j = \argmax h_i \) be the member with the highest current hp.
    Suppose member i gets healing amount \(x_i \ge 0 \) where \( \sum x_i = X \).
    Perhaps one can formulate an optimization problem on how to allocate the \(x_i \) while optimizing a certain objective function.
  </p><p>
    If 
    $$X \le \sum_i (h_j - h_i) = R$$
    then heal each member except j for an amount 
    $$x_i = (X + \sum_{k \neq j} h_k)/(n-1) - h_i $$

    Note this generalizes to any number of party members.

    overflow healing
    turn into iterative algorithm? could do simulation, but what's the point when can use closed-form algorithm
  </p><p>
    We do not look at percentage hp lost.
    One party member could have 20k out of 80k hp (25%), but the other members have 10k out of 20k hp (50%).
    In this case the healing would go to the party members with 10k hp as they have smaller absolute value of hp.
    The above we call 'need-based healing', 'egalitarianism', or even 'socialism'.
  </p>

  
  </body>
</html>